# 基于Netty实现WebSocket长连接

1. Http协议是无状态的，浏览器和服务器间请求响应一次，下一次就会重新创建连接
2. 实现基于WebSocket长连接的全双工的交互
3. 服务器可以主动发送消息给浏览器
4. 客户端浏览器和服务器端会相互感知，比如服务器关闭了，浏览器会感知，同样浏览器关闭了，服务器会感知

### HttpObjectAggregator
一个HTTP请求最少也会在HttpRequestDecoder里分成两次往后传递，第一次时消息行和消息头，第二次时消息体，
哪怕HTTP报文没有消息体，也会传一个空消息体，如果发送的消息比较大的话，可能还会分成好几个消息体来处理，往后
传递多次。使用HttpObjectAggregator可以将消息整合为一个完整的。

